<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libSBOL: ) and that libSBOL has been installed to your system&#39;s standard library path.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libSBOL
   &#160;<span id="projectnumber">2.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Introduction</span></a></li>
      <li><a href="getting_started.html"><span>Getting&#160;Started</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">) and that libSBOL has been installed to your system's standard library path. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>If you have installed libSBOL to a custom location and you would like to configure your Xcode project to link your local build, then you will have to configure the Build Settings.</p>
<p>Under Search Paths specify the Library and Header Search Paths to your local build. Under Linking, Other Linker Flags, specify "-lsbol -lraptor2 -lxml2 -liconv -lz"</p>
<h1><a class="anchor" id="document"></a>
Creating an SBOL Document</h1>
<p>An SBOLDocument object is a container for SBOL data objects. All file I/O operations are performed on the Document object. Usually the first step is to create an SBOLDocument in which to put your objects. This can be done by calling the SBOLDocument constructor. The read and write methods are used for </p><div class="fragment"><div class="line">Document&amp; doc = *<span class="keyword">new</span> Document();</div><div class="line">doc.read(<span class="stringliteral">&quot;CRISPR_example.xml&quot;</span>)</div><div class="line">doc.write(<span class="stringliteral">&quot;CRISPR_example.xml&quot;</span>)</div></div><!-- fragment --><p> Experienced C++ programmers may find that returning a reference from a new operator is an unusual idiomatic choice. See <a class="el" href="mainpage.html#idiomatic_cpp">A Note on our Idiomatic Use of References</a> for a discussion about this stylistic preference in this tutorial.</p>
<h1><a class="anchor" id="creating_objects"></a>
Creating SBOL Data Objects</h1>
<p>Both structural and functional details of biological designs can be described with SBOL data objects. The principle classes for describing the structure and primary sequence of a design are ComponentDefinitions, Components, and Sequences, SequenceAnnotations. The principle classes for describing the function of a design are ModuleDefinitions, Modules, and Interactions. These classes and their properties are represented as Unified Modeling Language (UML) diagrams in the specification document. For example, following is the diagram for a ComponentDefinition which will be referred to in later sections. </p><div class="image">
<img src="component_definition_uml.png" alt="component_definition_uml.png"/>
</div>
<p> Objects can be created by calling their respective constructors. Each new object must be assigned a unique identity, or uniform resource identifier (URI), and each constructor has two alternative signatures. One signature accepts a raw URI, while the "compliant" constructor auto-constructs a URI.</p>
<p>The following constructs a ModuleDefinition given a raw URI: </p><div class="fragment"><div class="line">ModuleDefinition&amp; CRISPRTemplate = *<span class="keyword">new</span> ModuleDefinition(<span class="stringliteral">&quot;sys-bio.org/CRISPRTemplate&quot;</span>);</div></div><!-- fragment --><p>The following auto-constructs a compliant URI from an authority, a displayID, and a version number: </p><div class="fragment"><div class="line">ModuleDefinition&amp; CRISPRTemplate = *<span class="keyword">new</span> ModuleDefinition(<span class="stringliteral">&quot;sys-bio.org&quot;</span>, <span class="stringliteral">&quot;CRISPRTemplate&quot;</span>, <span class="stringliteral">&quot;1.0.0&quot;</span>);</div></div><!-- fragment --><p> The identity of the new object is thus assigned as "sys-bio.org/ModuleDefinition/CRISPRTemplate/1.0.0"</p>
<p>Some constructors have required fields. In the specification document, required fields are indicated as properties with a cardinality of 1 or more. For example, a ComponentDefinition (see the UML diagram above) has only one required field, the type, which specifies the molecular type of a component. Required fields MUST be specified when calling a constructor. The following creates a protein component.</p>
<div class="fragment"><div class="line">ComponentDefinition&amp; Cas9 = *<span class="keyword">new</span> ComponentDefinition(<span class="stringliteral">&quot;sys-bio.org&quot;</span>, <span class="stringliteral">&quot;Cas9&quot;</span>, <span class="stringliteral">&quot;1.0.0&quot;</span>, BIOPAX_PROTEIN);</div></div><!-- fragment --><p> Notice the type is specified using a predefined constant. See constants.h for all such predefined constants.</p>
<h1><a class="anchor" id="adding_objects"></a>
Adding Objects to a Document</h1>
<p>In some cases a developer may want to use SBOL objects as intermediate data structures in a computational biology workflow. In this case the user is free to manipulate objects independently of a Document. However, if the user wishes to write out a file with all the information contained in their object, they must first add it to the Document. This is done using a templated add method. </p><div class="fragment"><div class="line">doc.add&lt;ModuleDefinition&gt;(CRISPRTemplate);</div><div class="line">doc.add&lt;ComponentDefinition&gt;(Cas9);</div></div><!-- fragment --> <h1><a class="anchor" id="optional_fields"></a>
Setting and Editing Optional Fields</h1>
<p>Objects may also include optional fields. These are indicated in UML as properties having a cardinality of 0 or more. All properties of a ComponentDefinition are optional, except for the type. Optional properties can only be set after the object is created. The following code creates a DNA component which is designated as a promoter: </p><div class="fragment"><div class="line">ComponentDefinition&amp; TargetPromoter = *<span class="keyword">new</span> ComponentDefinition(<span class="stringliteral">&quot;sys-bio.org&quot;</span>, <span class="stringliteral">&quot;TargetPromoter&quot;</span>, <span class="stringliteral">&quot;1.0.0&quot;</span>, BIOPAX_DNA);</div><div class="line">TargetPromoter.roles.set(SO_PROMOTER)</div></div><!-- fragment --><p>All properties have a set and a get method. To view the value of a property: </p><div class="fragment"><div class="line">cout &lt;&lt; TargetPromoter.roles.get() &lt;&lt; endl;</div></div><!-- fragment --><p> This returns the string "http://identifiers.org/so/SO:0000167" which is the Sequence Ontology term for a promoter.</p>
<p>Note also that some properties support a list of values. A property with a cardinality indicated by an asterisk symbol indicates that the property may hold an arbitrary number of values. For example, a ComponentDefinition may be assigned multiple roles. To add a new role: </p><div class="fragment"><div class="line">TargetPromoter.roles.add(SO <span class="stringliteral">&quot;0000568&quot;</span>);</div></div><!-- fragment --><h1><a class="anchor" id="child_objects"></a>
Creating and Editing Child Objects</h1>
<p>Some SBOL objects can be composed into hierarchical parent-child relationships. In the specification diagrams, these relationshipss are indicated by black diamond arrows. In the UML diagram above, the black diamond indicates that ComponentDefinitions are parents of SequenceAnnotations. Properties of this type can be modified using the add method and passing the child object as the argument. </p><div class="fragment"><div class="line">TargetPromoter.annotations.add(annotation_object)</div></div><!-- fragment --> <h1><a class="anchor" id="references"></a>
Creating and Editing Reference Properties</h1>
<p>Some SBOL objects point to other objects by way of references. For example, ComponentDefinitions point to their corresponding Sequences. Properties of this type should be set with the URI of the related object. </p><div class="fragment"><div class="line">ComponentDefinition&amp; EYFPGene = *<span class="keyword">new</span> ComponentDefinition(BASE_URI, <span class="stringliteral">&quot;EYFPGene&quot;</span>, v, BIOPAX_DNA);</div><div class="line">Sequence&amp; seq = *<span class="keyword">new</span> Sequence(BASE_URI, <span class="stringliteral">&quot;EYFPSequence&quot;</span>, <span class="stringliteral">&quot;1.0.0&quot;</span>, <span class="stringliteral">&quot;atgnnntaa&quot;</span>, SBOL_ENCODING_IUPAC);</div><div class="line">EYFPGene.sequence.setReference(BASE_URI, <span class="stringliteral">&quot;EYFPSequence, &quot;</span>1.0.0<span class="stringliteral">&quot;);</span></div></div><!-- fragment --><p> The setReference method automatically constructs a complicant URI. Another way to set the reference is to specify the full URI. </p><div class="fragment"><div class="line">EYFPGene.sequence.set(seq.identity.get());</div></div><!-- fragment --> <h1><a class="anchor" id="lists_of_objects"></a>
Iterating and Indexing Lists</h1>
<p>Some properties can contain multiple values or objects. As mentioned under <a class="el" href="mainpage.html#optional_fields">Setting and Editing Optional Fields</a> additional values can be specified with the add method. In addition you may iterate over lists of objects or values. </p><div class="fragment"><div class="line"><span class="comment">// Iterate through objects (black diamond properties in UML)</span></div><div class="line"><span class="keywordflow">for</span>( <span class="keyword">auto</span> i_p = Cas9ComplexFormation.participations.begin(); i_p != Cas9ComplexFormation.participations.end(); i_p++)</div><div class="line">{</div><div class="line">    Participation&amp; p = (*i_p);</div><div class="line">    cout &lt;&lt; p.identity.get() &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; p.roles.get() &lt;&lt; endl;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// Iterate through references (white diamond properties in UML)</span></div><div class="line"><span class="keywordflow">for</span> (<span class="keyword">auto</span> i_role = reaction_participant.roles.begin(); i_role != reaction_participant.roles.end(); i_role++)</div><div class="line">{</div><div class="line">    <span class="keywordtype">string</span> role = *i_role;</div><div class="line">    cout &lt;&lt; role &lt;&lt; endl;</div><div class="line">}</div></div><!-- fragment --><p> Numerical indexing of lists works as well: </p><div class="fragment"><div class="line">cout &lt;&lt; Cas9ComplexFormation.participations[0].identity.get() &lt;&lt; endl;</div></div><!-- fragment --> <h1><a class="anchor" id="idiomatic_cpp"></a>
A Note on our Idiomatic Use of References</h1>
<p>In C++ creating a reference to an object using the new operator is a matter of stylistic controversy. For one thing, mixing references with the new operator can make low level memory management confusing for some developers. The reason this isn't an issue here is because libSBOL encapsulates memory management within the Document object. Pointers to all the objects in a Document are freed when the Document destructor is called. Coming from a Python background to C++, we wanted to maximize the object-oriented experience using the library and the reference syntax feels and looks more object-oriented. Rest assured however, that if you disagree with this idiomatic style, you can still work with pointers in the more traditional way. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 28 2016 15:22:09 for libSBOL by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
